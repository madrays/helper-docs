import{_ as e,c as l,o as n,ae as t}from"./chunks/framework.BHrE6nLq.js";const b=JSON.parse('{"title":"目录结构说明","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deployment/directory-structure.md","filePath":"guide/deployment/directory-structure.md"}'),s={name:"guide/deployment/directory-structure.md"};function o(c,a,p,i,r,d){return n(),l("div",null,a[0]||(a[0]=[t('<h1 id="目录结构说明" tabindex="-1">目录结构说明 <a class="header-anchor" href="#目录结构说明" aria-label="Permalink to &quot;目录结构说明&quot;">​</a></h1><p>从 v2.0.5 版本开始，Sun-Panel-Helper 引入了新的目录结构，以提供更好的数据持久化和备份功能。本文将详细介绍新的目录结构和挂载要求。</p><h2 id="必要挂载目录" tabindex="-1">必要挂载目录 <a class="header-anchor" href="#必要挂载目录" aria-label="Permalink to &quot;必要挂载目录&quot;">​</a></h2><h3 id="app-backend-data" tabindex="-1"><code>/app/backend/data</code> <a class="header-anchor" href="#app-backend-data" aria-label="Permalink to &quot;`/app/backend/data`&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title">必须挂载</p><p>这是Helper存储用户核心数据的目录，必须挂载，否则每次重启或升级容器会丢失配置！这个目录是Helper自己的目录，需要您自己创建，不是Sun-Panel的目录。</p></div><ul><li><strong>用途</strong>：存储用户配置、偏好设置等基本数据</li><li><strong>数据类型</strong>：JSON 配置文件，用户设置等</li><li><strong>重要性</strong>：<strong>必须挂载</strong>，核心数据存储位置</li><li><strong>创建方式</strong>：需要用户自行创建此目录，它属于Helper，不是Sun-Panel的目录</li></ul><h3 id="app-backend-backups" tabindex="-1"><code>/app/backend/backups</code> <a class="header-anchor" href="#app-backend-backups" aria-label="Permalink to &quot;`/app/backend/backups`&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title">必须挂载</p><p>这是Helper存储备份文件的目录，必须挂载，否则无法保留历史备份！这个目录是Helper自己的目录，需要您自己创建，不是Sun-Panel的目录。</p></div><ul><li><strong>用途</strong>：存储自动和手动备份文件</li><li><strong>数据类型</strong>：ZIP 格式备份文件</li><li><strong>重要性</strong>：<strong>必须挂载</strong>，确保数据安全</li><li><strong>创建方式</strong>：需要用户自行创建此目录，它属于Helper，不是Sun-Panel的目录</li></ul><h3 id="app-backend-custom" tabindex="-1"><code>/app/backend/custom</code> <a class="header-anchor" href="#app-backend-custom" aria-label="Permalink to &quot;`/app/backend/custom`&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title">必须挂载</p><p>这是 Sun-Panel 的 custom 目录，必须正确挂载，否则 Helper 的所有修改都无法生效！这个目录必须指向Sun-Panel的custom目录，不是Helper自己的目录。</p></div><ul><li><strong>用途</strong>：与 Sun-Panel 交互的关键目录，所有自定义组件和美化功能都通过此目录实现</li><li><strong>数据类型</strong>：自定义组件配置、JS、CSS 等</li><li><strong>重要性</strong>：<strong>必须挂载</strong>，这是 Helper 功能生效的基础，必须指向 Sun-Panel 的 custom 目录</li><li><strong>注意事项</strong>：必须指向 Sun-Panel 的 conf 目录下的 custom 文件夹，如：<code>/path/to/sunpanel/conf/custom</code></li></ul><h2 id="目录结构变更图示" tabindex="-1">目录结构变更图示 <a class="header-anchor" href="#目录结构变更图示" aria-label="Permalink to &quot;目录结构变更图示&quot;">​</a></h2><p>以下是 v2.0.5 版本前后的目录结构对比：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>【v2.0.4及之前版本】             【v2.0.5及之后版本】</span></span>\n<span class="line"><span>/app/backend/                   /app/backend/</span></span>\n<span class="line"><span>  └── custom/ (必须挂载)           ├── data/ (必须挂载) ⭐新增⭐</span></span>\n<span class="line"><span>                                 ├── backups/ (必须挂载) ⭐新增⭐</span></span>\n<span class="line"><span>                                 └── custom/ (必须挂载)</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">重要说明</p><ul><li><code>/app/backend/data</code> - 新增目录，是Helper自己的目录，需要您自己创建</li><li><code>/app/backend/backups</code> - 新增目录，是Helper自己的目录，需要您自己创建</li><li><code>/app/backend/custom</code> - 必须指向Sun-Panel的custom目录，不是Helper自己的目录</li></ul></div><h2 id="数据说明" tabindex="-1">数据说明 <a class="header-anchor" href="#数据说明" aria-label="Permalink to &quot;数据说明&quot;">​</a></h2><h3 id="app-backend-data-目录" tabindex="-1"><code>/app/backend/data</code> 目录 <a class="header-anchor" href="#app-backend-data-目录" aria-label="Permalink to &quot;`/app/backend/data` 目录&quot;">​</a></h3><p>此目录包含以下重要数据：</p><ul><li>用户配置文件</li><li>应用程序设置</li><li>组件配置和布局信息</li><li>其他核心运行数据</li></ul><div class="info custom-block"><p class="custom-block-title">提示</p><p>这是Helper自己的数据目录，需要用户自行创建。这不是Sun-Panel的目录。</p></div><h3 id="app-backend-backups-目录" tabindex="-1"><code>/app/backend/backups</code> 目录 <a class="header-anchor" href="#app-backend-backups-目录" aria-label="Permalink to &quot;`/app/backend/backups` 目录&quot;">​</a></h3><p>此目录存储两类备份：</p><ul><li><strong>自动备份</strong>：系统每小时自动创建，最多保留 100 个</li><li><strong>手动备份</strong>：用户手动创建，永久保存不会被自动清理</li></ul><div class="info custom-block"><p class="custom-block-title">提示</p><p>这是Helper自己的备份目录，需要用户自行创建。这不是Sun-Panel的目录。</p></div><h3 id="app-backend-custom-目录" tabindex="-1"><code>/app/backend/custom</code> 目录 <a class="header-anchor" href="#app-backend-custom-目录" aria-label="Permalink to &quot;`/app/backend/custom` 目录&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">特别重要</p><p>这个目录必须指向 Sun-Panel 的 custom 目录！Helper 的所有功能都依赖于此目录与 Sun-Panel 的正确交互。这不是Helper自己的目录，而是必须指向Sun-Panel的目录。</p></div><p>此目录用于：</p><ul><li>存储 Helper 生成的自定义组件代码</li><li>应用美化样式和功能</li><li>实现 Sun-Panel 与 Helper 的交互</li><li>部署所有自定义配置到 Sun-Panel</li></ul><p>如果此目录指向错误，Helper 的所有修改都不会在 Sun-Panel 中生效。</p><h2 id="容器内其他目录-不需要挂载" tabindex="-1">容器内其他目录（不需要挂载） <a class="header-anchor" href="#容器内其他目录-不需要挂载" aria-label="Permalink to &quot;容器内其他目录（不需要挂载）&quot;">​</a></h2><p>容器内还有一些其他目录，这些目录通常不需要挂载：</p><ul><li><code>/app/frontend</code>：前端代码目录</li><li><code>/app/nginx</code>：Nginx 配置目录</li><li><code>/etc/nginx</code>：Nginx 系统配置</li></ul><div class="warning custom-block"><p class="custom-block-title">注意</p><p>不建议挂载非文档明确指定的目录，可能会导致容器运行异常。</p></div>',34)]))}const k=e(s,[["render",o]]);export{b as __pageData,k as default};
