import{_ as a,c as i,o as n,ae as e}from"./chunks/framework.BHrE6nLq.js";const c=JSON.parse('{"title":"Docker Compose 部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deployment/docker-compose.md","filePath":"guide/deployment/docker-compose.md"}'),l={name:"guide/deployment/docker-compose.md"};function p(h,s,t,k,d,o){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="docker-compose-部署" tabindex="-1">Docker Compose 部署 <a class="header-anchor" href="#docker-compose-部署" aria-label="Permalink to &quot;Docker Compose 部署&quot;">​</a></h1><p>本文介绍如何使用 Docker Compose 部署 Sun-Panel-Helper。Docker Compose 提供了更便捷的部署和管理方式，特别适合需要管理多个容器的场景。</p><div class="danger custom-block"><p class="custom-block-title">重要提示 - v2.0.5+ 版本目录变更</p><p>从 v2.0.5 版本开始，Sun-Panel-Helper 引入了新的目录结构，必须挂载 <code>/app/backend/data</code>、<code>/app/backend/backups</code> 和 <code>/app/backend/custom</code> 目录。其中 data 和 backups 目录是 Helper 自己的数据目录，需要您自己创建；而 custom 目录必须指向 Sun-Panel 的 custom 目录。如果您是从旧版本升级，请参考<a href="/guide/deployment/migration.html">数据迁移教程</a>。</p></div><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><h3 id="_1-安装-docker-compose" tabindex="-1">1. 安装 Docker Compose <a class="header-anchor" href="#_1-安装-docker-compose" aria-label="Permalink to &quot;1. 安装 Docker Compose&quot;">​</a></h3><p>如果尚未安装 Docker Compose，请先安装：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)-$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/docker-compose</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 验证安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre></div><p>Windows 和 macOS 的 Docker Desktop 已经包含了 Docker Compose。</p><h3 id="_2-创建部署目录" tabindex="-1">2. 创建部署目录 <a class="header-anchor" href="#_2-创建部署目录" aria-label="Permalink to &quot;2. 创建部署目录&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/docker/sun-panel-helper</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/docker/sun-panel-helper</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建Helper所需的数据目录（这些是Helper自己的目录，不是Sun-Panel的目录）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backups</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">重要</p><p><code>custom</code> 目录必须指向 Sun-Panel 的 custom 目录，而不是创建新目录！ 上面的示例仅创建了Helper自己需要的data和backups目录。</p></div><h2 id="部署配置" tabindex="-1">部署配置 <a class="header-anchor" href="#部署配置" aria-label="Permalink to &quot;部署配置&quot;">​</a></h2><h3 id="标准模式配置" tabindex="-1">标准模式配置 <a class="header-anchor" href="#标准模式配置" aria-label="Permalink to &quot;标准模式配置&quot;">​</a></h3><p>创建 <code>docker-compose.yml</code> 文件：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  sun-panel-helper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">madrays/sun-panel-helper:latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sun-panel-helper</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BACKEND_PORT=3001</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 后端服务端口,可自定义修改避免冲突</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;33002:80&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 前端页面访问端口,可自定义修改避免冲突</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./data:/app/backend/data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # 必须挂载：Helper的数据目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./backups:/app/backend/backups</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 必须挂载：Helper的备份目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/path/to/sunpanel/conf/custom:/app/backend/custom</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 必须挂载：Sun-Panel的custom目录</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">unless-stopped</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>上述配置中，<code>/path/to/sunpanel/conf/custom</code> 必须替换为您的 Sun-Panel 实际 custom 目录的绝对路径！ 而 <code>./data</code> 和 <code>./backups</code> 是相对路径，指向您为Helper创建的数据目录。</p></div><h3 id="host-网络模式配置" tabindex="-1">Host 网络模式配置 <a class="header-anchor" href="#host-网络模式配置" aria-label="Permalink to &quot;Host 网络模式配置&quot;">​</a></h3><p>如果需要使用 Host 网络模式（比如 IPv6 环境），创建如下配置：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  sun-panel-helper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">madrays/sun-panel-helper:latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sun-panel-helper</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    network_mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">host</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 使用Host网络模式</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BACKEND_PORT=3001</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # 后端服务端口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FRONTEND_PORT=33002</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 前端页面访问端口(Host模式必须设置)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./data:/app/backend/data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # 必须挂载：Helper的数据目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./backups:/app/backend/backups</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 必须挂载：Helper的备份目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/path/to/sunpanel/conf/custom:/app/backend/custom</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 必须挂载：Sun-Panel的custom目录</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">unless-stopped</span></span></code></pre></div><h2 id="目录挂载说明" tabindex="-1">目录挂载说明 <a class="header-anchor" href="#目录挂载说明" aria-label="Permalink to &quot;目录挂载说明&quot;">​</a></h2><h3 id="必须挂载的目录" tabindex="-1">必须挂载的目录 <a class="header-anchor" href="#必须挂载的目录" aria-label="Permalink to &quot;必须挂载的目录&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title">必须挂载</p><p>以下目录必须挂载，否则会导致数据丢失、备份功能无法使用或 Helper 功能无法生效！</p></div><ul><li><code>./data:/app/backend/data</code> - Helper的数据目录，用于存储用户配置和设置</li><li><code>./backups:/app/backend/backups</code> - Helper的备份目录，用于存储自动和手动备份</li><li><code>/path/to/sunpanel/conf/custom:/app/backend/custom</code> - <strong>必须指向 Sun-Panel 的 custom 目录</strong></li></ul><div class="warning custom-block"><p class="custom-block-title">custom 目录特别说明</p><p><code>/app/backend/custom</code> 必须挂载到 Sun-Panel 的 custom 目录，这是 Helper 与 Sun-Panel 交互的关键。 如果此目录挂载错误，Helper 的所有修改都不会在 Sun-Panel 中生效！</p><p>如果 Sun-Panel 的 custom 目录不存在，需要手动在 Sun-Panel 的 conf 目录下创建。</p><p>而 data 和 backups 目录是 Helper 自己的数据目录，需要您自己创建，不是 Sun-Panel 的目录。</p></div><h2 id="部署命令" tabindex="-1">部署命令 <a class="header-anchor" href="#部署命令" aria-label="Permalink to &quot;部署命令&quot;">​</a></h2><h3 id="启动服务" tabindex="-1">启动服务 <a class="header-anchor" href="#启动服务" aria-label="Permalink to &quot;启动服务&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在 docker-compose.yml 所在目录执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h3 id="查看日志" tabindex="-1">查看日志 <a class="header-anchor" href="#查看日志" aria-label="Permalink to &quot;查看日志&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看所有日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看实时日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看最近 100 行日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tail=100</span></span></code></pre></div><h3 id="停止服务" tabindex="-1">停止服务 <a class="header-anchor" href="#停止服务" aria-label="Permalink to &quot;停止服务&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span></code></pre></div><h3 id="重启服务" tabindex="-1">重启服务 <a class="header-anchor" href="#重启服务" aria-label="Permalink to &quot;重启服务&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span></code></pre></div><h3 id="更新镜像" tabindex="-1">更新镜像 <a class="header-anchor" href="#更新镜像" aria-label="Permalink to &quot;更新镜像&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 拉取最新镜像</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用新镜像重新创建容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h2 id="数据迁移" tabindex="-1">数据迁移 <a class="header-anchor" href="#数据迁移" aria-label="Permalink to &quot;数据迁移&quot;">​</a></h2><p>如果您是从 v2.0.4 或更早版本升级，请参考<a href="/guide/deployment/migration.html">数据迁移教程</a>。</p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="_1-配置文件权限" tabindex="-1">1. 配置文件权限 <a class="header-anchor" href="#_1-配置文件权限" aria-label="Permalink to &quot;1. 配置文件权限&quot;">​</a></h3><p>确保 <code>docker-compose.yml</code> 的权限正确：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 644</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span></span></code></pre></div><h3 id="_2-目录权限" tabindex="-1">2. 目录权限 <a class="header-anchor" href="#_2-目录权限" aria-label="Permalink to &quot;2. 目录权限&quot;">​</a></h3><p>确保挂载目录的权限正确：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Helper自己的数据目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 755</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 755</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backups</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Sun-Panel的custom目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 755</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/sunpanel/conf/custom</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 确保Sun-Panel的custom目录权限正确</span></span></code></pre></div><h3 id="_3-端口冲突" tabindex="-1">3. 端口冲突 <a class="header-anchor" href="#_3-端口冲突" aria-label="Permalink to &quot;3. 端口冲突&quot;">​</a></h3><p>如果端口被占用，修改 <code>docker-compose.yml</code> 中的端口映射：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;33003:80&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 将 33002 改为其他可用端口</span></span></code></pre></div><h3 id="_4-helper-功能不生效" tabindex="-1">4. Helper 功能不生效 <a class="header-anchor" href="#_4-helper-功能不生效" aria-label="Permalink to &quot;4. Helper 功能不生效&quot;">​</a></h3><p>检查 custom 目录是否正确挂载到 Sun-Panel 的 custom 目录。确保：</p><ul><li>custom 目录路径正确指向 Sun-Panel 的 conf/custom 目录</li><li>Sun-Panel 可以访问此目录（权限正确）</li><li>如果 Sun-Panel 的 custom 目录不存在，需要手动创建</li></ul><h3 id="_5-备份管理" tabindex="-1">5. 备份管理 <a class="header-anchor" href="#_5-备份管理" aria-label="Permalink to &quot;5. 备份管理&quot;">​</a></h3><p>查看<a href="/guide/backup-restore.html">备份与恢复</a>了解如何管理备份和恢复数据。</p><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to &quot;下一步&quot;">​</a></h2><ul><li>参考<a href="/guide/faq/deployment.html">常见问题</a></li><li>了解<a href="/guide/backup-restore.html">备份与恢复</a>功能</li><li>查看<a href="/guide/deployment/directory-structure.html">目录结构说明</a></li></ul>`,54)]))}const g=a(l,[["render",p]]);export{c as __pageData,g as default};
